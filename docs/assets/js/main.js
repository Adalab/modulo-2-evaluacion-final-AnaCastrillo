"use strict";const submitButton=document.querySelector(".search-submit"),textInput=document.querySelector(".search-text"),form=document.querySelector(".js-form"),errorMessage=document.querySelector(".fetch-error");function handleForm(e){e.preventDefault()}function search(){fetch("http://api.tvmaze.com/search/shows?q="+textInput.value,{method:"GET"}).then((function(e){return e.json()})).then((function(e){showURL(e)})).catch((function(e){errorMessage.innerHTML='Parece que ha habído un problema al buscar tu serie </p> <p class="error-text">'+e}))}function showURL(e){if(e.success)errorMessage.innerHTML='Parece que ha habído un problema al buscar tu serie </p> <p class="error-text">'+e.error;else for(const t of e){const e=document.createElement("li");e.classList.add("show-item"),e.addEventListener("click",selectFav);const r=document.createElement("img"),s=document.querySelector(".js-searchList"),n=document.createElement("h3"),c=document.createTextNode(t.show.name);null===t.show.image?r.src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV":r.src=t.show.image.medium,e.appendChild(r),n.appendChild(c),e.appendChild(n),s.appendChild(e)}}form.addEventListener("submit",handleForm),submitButton.addEventListener("click",search);const favItems=[],favList=document.querySelector(".js-favs");function selectFav(e){favItems.push(e.currentTarget.innerHTML),console.log(favItems.length);document.createElement("li").classList.add("fav-item"),favList.innerHTML+=favItems[favItems.length-1]}