"use strict";const submitButton=document.querySelector(".search-submit"),textInput=document.querySelector(".search-text"),form=document.querySelector(".js-form"),errorMessage=document.querySelector(".fetch-error");function handleForm(e){e.preventDefault()}function search(){fetch("http://api.tvmaze.com/search/shows?q="+textInput.value,{method:"GET"}).then((function(e){return e.json()})).then((function(e){showURL(e)})).catch((function(e){errorMessage.innerHTML='Parece que ha habído un problema al buscar tu serie </p> <p class="error-text">'+e}))}form.addEventListener("submit",handleForm),submitButton.addEventListener("click",search);const showList=document.querySelector(".js-searchList");function showURL(e){if(showList.innerHTML="",e.success)errorMessage.innerHTML='Parece que ha habído un problema al buscar tu serie </p> <p class="error-text">'+e.error;else for(const t of e){const e=document.createElement("li");e.classList.add("show-item"),e.addEventListener("click",selectFav);const s=document.createElement("img"),n=document.createElement("h3"),r=document.createTextNode(t.show.name);null===t.show.image?s.src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV":s.src=t.show.image.medium,e.appendChild(s),n.appendChild(r),e.appendChild(n),showList.appendChild(e)}}const favItems=[],favList=document.querySelector(".js-favs");function selectFav(e){favItems.push(e.currentTarget.innerHTML),console.log(favItems.length),paintFav()}function paintFav(){const e=document.createElement("li");e.addEventListener("click",removeFav),e.innerHTML+=favItems[favItems.length-1],e.classList.add(favItems.length-1),favList.appendChild(e)}function removeFav(e){console.log(e.currentTarget.classList[0]);const t=parseInt(e.currentTarget.classList[0]);console.log(t),console.log(favItems),favList.removeChild(e.currentTarget),favItems.splice(t,1)}